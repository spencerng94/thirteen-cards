@tailwind base;
@tailwind components;
@tailwind utilities;

/* Safe Area Insets for mobile devices (notches, camera holes, etc.) */
:root {
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
}

/* Prevent iOS overscroll bounce and white space while allowing normal scrolling */
html {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  background-color: #000000;
  /* Prevent iOS rubber-band scrolling - KEY FIX for white space */
  overscroll-behavior: none;
  overscroll-behavior-y: none;
  overscroll-behavior-x: none;
  /* Smooth scrolling on iOS */
  -webkit-overflow-scrolling: touch;
  /* Prevent white space on overscroll */
  -webkit-touch-callout: none;
  /* Extend background to cover overscroll areas */
  background-attachment: fixed;
}

/* Body styles to prevent white space on overscroll but allow scrolling */
body {
  min-height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  background-color: #000000;
  /* Don't apply safe area padding here - let App container handle it */
  /* This prevents double padding and black space at top */
  /* Prevent iOS rubber-band scrolling - KEY FIX for white space */
  overscroll-behavior: none;
  overscroll-behavior-y: none;
  overscroll-behavior-x: none;
  /* Smooth scrolling on iOS */
  -webkit-overflow-scrolling: touch;
  /* Prevent text selection bounce on iOS */
  -webkit-tap-highlight-color: transparent;
  touch-action: pan-y;
  /* Prevent white space on overscroll */
  -webkit-touch-callout: none;
  /* Prevent pull-to-refresh on iOS */
  overscroll-behavior-block: none;
  /* Allow scrolling */
  overflow-x: hidden;
  overflow-y: auto;
  /* Extend background to cover overscroll areas */
  background-attachment: fixed;
}

/* Root container should allow scrolling */
#root {
  min-height: 100%;
  width: 100%;
  background-color: #000000;
  /* Smooth scrolling on iOS */
  -webkit-overflow-scrolling: touch;
  /* Prevent overscroll bounce - this is key for iOS */
  overscroll-behavior: none;
  overscroll-behavior-y: none;
  overscroll-behavior-x: none;
  /* Ensure black background during overscroll */
  position: relative;
  /* Extend background to cover safe areas - no padding here */
  margin: 0;
  padding: 0;
  /* Extend background beyond viewport to cover overscroll */
  background-attachment: fixed;
}

/* Prevent white space on overscroll for all elements, but allow normal scrolling */
* {
  overscroll-behavior: none;
  overscroll-behavior-y: none;
  overscroll-behavior-x: none;
}

/* Allow scrolling on specific containers that need it */
[data-scrollable] {
  overscroll-behavior: auto;
  overscroll-behavior-y: auto;
}

/* Ensure scrollable containers work properly */
.overflow-y-auto,
.overflow-auto,
[class*="overflow"] {
  overscroll-behavior: none;
  overscroll-behavior-y: none;
  -webkit-overflow-scrolling: touch;
}

/* Prevent dead black space on overscroll by extending background */
html::before,
body::before {
  content: '';
  position: fixed;
  top: -100vh;
  left: 0;
  right: 0;
  bottom: -100vh;
  background-color: #000000;
  z-index: -1;
  pointer-events: none;
}
